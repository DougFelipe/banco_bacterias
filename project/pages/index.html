<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <title>üß¨ BacteriaDB</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Estilos gerais -->
    <link rel="stylesheet" href="/static/style.css" />
    <!-- Scripts do app principal e dos formul√°rios CRUD -->
    <script type="module" src="/static/app.js"></script>
    <script type="module" src="/static/insert-form.js"></script>
    <script type="module" src="/static/select-form.js"></script>
    <script type="module" src="/static/update-form.js"></script>
    <script type="module" src="/static/delete-form.js"></script>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>üß¨ BacteriaDB</h1>
        <p>Execute consultas SQL em bancos MySQL e PostgreSQL</p>
        <div id="dbInfo" class="db-info">Carregando informa√ß√µes do banco...</div>
      </header>

      <!-- CRUD: INSERT -->
      <section class="query-section">
        <h2 style="margin-top:0">Inserir Dados</h2>
        <div id="crud-root"></div>
      </section>

      <!-- CRUD: SELECT -->
      <section class="query-section">
        <h2>Consultar Dados</h2>
        <div id="crud-select-root"></div>
      </section>

      <!-- CRUD: UPDATE -->
      <section class="query-section">
        <h2>Atualizar Dados</h2>
        <div id="crud-update-root"></div>
      </section>

      <!-- CRUD: DELETE -->
      <section class="query-section">
        <h2>Deletar Dados</h2>
        <div id="crud-delete-root"></div>
      </section>

      <!-- Editor SQL manual -->
      <section class="query-section">
        <div class="input-group">
          <label for="sqlQuery">Consulta SQL Manual:</label>
          <textarea
            id="sqlQuery"
            placeholder="SELECT * FROM usuario LIMIT 5;"
            rows="4"
          ></textarea>
        </div>
        <div class="button-group">
          <button id="executeBtn" class="btn-primary">Executar Consulta</button>
          <button id="clearBtn" class="btn-clear">Limpar</button>
        </div>
      </section>

      <!-- Resultados da consulta -->
      <section class="results-section">
        <div class="results-header">
          <h3>Resultados</h3>
                  <div class="button-group">
                    <button id="testBtn" class="btn-secondary">Testar Conex√£o</button>
                    <button id="infoBtn" class="btn-info">Info do Banco</button>
                  </div>         
          <span id="resultCount" class="result-count"></span>
        </div>
        <div id="results" class="results-container">
          <p class="placeholder">Digite uma consulta SQL e clique em "Executar Consulta" para ver os resultados</p>
        </div>
      </section>

      <!-- Info de endpoints da API -->
      <section class="info-section">
        <h3>Endpoints da API</h3>
        <div class="endpoint">
          <code>POST /query</code>
          <p>Executar consulta SQL. Envie JSON: <code>{"query": "SELECT * FROM tabela;"}</code></p>
        </div>
        <div class="endpoint">
          <code>GET /query/test</code>
          <p>Testar conex√£o com banco de dados</p>
        </div>
        <div class="endpoint">
          <code>GET /query/info</code>
          <p>Obter informa√ß√µes sobre o banco configurado</p>
        </div>
        <div class="endpoint">
          <code>GET /health</code>
          <p>Verifica√ß√£o de sa√∫de da API</p>
        </div>
      </section>
    </div>
  </body>
</html>
